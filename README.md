# 🧠 LumenSlate Backend Repository

This is the backend server for managing **Assignments** with support for all question types and full academic structures:
- Multiple Choice Questions (MCQ)
- Multiple Select Questions (MSQ)
- Numerical Answer Type (NAT)
- Subjective Questions
- Classroom, Students, Teachers, Comments, Submissions, Posts, Variables, and Question Banks

---

## 🚀 Tech Stack

- Go (Golang)
- Gin Web Framework
- Firestore (Firebase)
- Swagger Docs (Swaggo)
- Postman Test Collection
- Modular MVC-style structure

---

## 📁 Project Structure

```
server/
├── cmd/server/           # Main application entrypoint
├── internal/
│   ├── controller/       # HTTP handlers
│   ├── service/          # Business logic
│   ├── repository/       # Firestore queries
│   ├── routes/           # Gin routes setup
│   ├── model/            # Data models (Assignment, MCQ, etc.)
│   ├── firebase/         # Firestore client setup
│   └── docs/             # Swagger docs (autogenerated)
├── Makefile              # Automation for build/run/docs
├── .env                  # Environment variables (not committed)
└── README.md
```

---

## 📦 Setup Instructions

### 1. Install Dependencies

```bash
go mod tidy
```

### 2. Generate Swagger Docs

```bash
make swagger
```

### 3. Run the Server

```bash
make run
```

Or run directly:
```bash
swag init --output ./internal/docs
go run cmd/server/main.go
```

---

## 🧪 API Testing

### ✅ Swagger UI

Access at: [http://localhost:8080/swagger/index.html](http://localhost:8080/swagger/index.html)

### ✅ Postman Collections

Use the provided Postman collections in `/mnt/data` or root directory:
- `Assignment.postman_collection.json`
- `Classroom.postman_collection.json`
- `Comments.postman_collection.json`
- `Posts.postman_collection.json`
- `QuestionBank.postman_collection.json`
- `Students.postman_collection.json`
- `Submission.postman_collection.json`
- `Teachers.postman_collection.json`
- `Variables.postman_collection.json`
- `MCQ.postman_collection.json`
- `MSQ.postman_collection.json`
- `NAT.postman_collection.json`
- `Subjective.postman_collection.json`

Tested features:
- Create, Get, Update, Delete
- Filters: `points`, `dueDate`, `topic`, `chapter`, `teacherId`, etc.
- Pagination: `limit`, `offset`
- Partial update via PATCH

---

## 📝 Sample .env File

```env
PORT=8080
FIREBASE_PROJECT_ID=your-project-id
FIREBASE_TYPE=service_account
FIREBASE_PRIVATE_KEY_ID=your-private-key-id
FIREBASE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nKEYDATA\n-----END PRIVATE KEY-----\n"
FIREBASE_CLIENT_EMAIL=your-client-email
FIREBASE_CLIENT_ID=your-client-id
FIREBASE_AUTH_URI=https://accounts.google.com/o/oauth2/auth
FIREBASE_TOKEN_URI=https://oauth2.googleapis.com/token
FIREBASE_AUTH_PROVIDER_X509_CERT_URL=https://www.googleapis.com/oauth2/v1/certs
FIREBASE_CLIENT_X509_CERT_URL=https://www.googleapis.com/robot/v1/metadata/x509/...
```

---

## 📌 Make Commands

```bash
make run         # Run server
make swagger     # Generate Swagger docs
make build       # Build binary
make clean       # Clean build + docs
```

---